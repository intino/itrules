defrule type(Box)
package schema;

import magritte.model.Model;

public class $name~Box extends Box {
    protected $name~Box(Model model) {
        super(model);
    }

    public static void load(Model model) {
        new $name~Box(model);
    }

    @Override
    protected void loadImports() {
        $import...[$NL]
    }

    @Override
    protected void loadNodes() {
        $definition...[$NL]
    }
}
endrule

defrule type(Definition) trigger(definition)
def("$name");
    $type...[$NL]
    $parent
    $var...[$NL]
    $set...[$NL]
    $definition...[$NL]

end();
endrule

defrule trigger(import)
$value~Box.load(model());
endrule

defrule trigger(typeId)
type($value);
endrule

defrule trigger(parent)
parent($value);
endrule

defrule trigger(var)
var($value);
endrule

defrule trigger(set) type(Set)
set(of($type).var($name), $value);
endrule

